const e=Math.PI,t=2*e,a="CLOSE",i={linear:e=>e,cubicIn:e=>e*e*e,cubicOut:e=>1-(1-e)*(1-e)*(1-e),cubicInOut:e=>e<.5?4*e*e*e:1-(-2*e+2)*(-2*e+2)*(-2*e+2)/2},o={dur:1e3,loop:!1,ease:"linear"},n=({dur:e=1e3,loop:t=!1,ease:a="linear",onstart:n,ontick:r,onpause:s,onend:d}=o)=>{let c,l,m,u=()=>{},p=!1;const h={dur:e,ease:a,loop:t,started:!1,paused:!1,ended:!1,frame:0,time:0,t:0,onstart:n,ontick:r,onpause:s,onend:d,pause:()=>{c&&(h.paused=!0,h.onpause&&h.onpause(),clearTimeout(l),cancelAnimationFrame(c))},play:()=>{(!h.started||h.paused||h.ended)&&(h.ended&&g(),h.paused=!1,p=!0,v())},on:(e,t)=>{if(!h.started||h.ended){if(e instanceof Array)if(t instanceof Array){const a=t.map((e=>Object.keys(e))),i=e.map(((e,t)=>a[t].map((t=>e[t])))),o=t.map(((e,t)=>a[t].map(((a,o)=>e[a]-i[t][o]))));u=()=>e.forEach(((e,t)=>a[t].forEach(((a,n)=>{e[a]=i[t][n]+h.t*o[t][n]}))))}else{const a=Object.keys(t),i=e.map((e=>a.map((t=>e[t])))),o=i.map((e=>a.map(((a,i)=>t[a]-e[i]))));u=()=>e.forEach(((e,t)=>a.forEach(((a,n)=>{e[a]=i[t][n]+h.t*o[t][n]}))))}else{const a=Object.keys(t),i=a.map((t=>e[t])),o=a.map(((e,a)=>t[e]-i[a]));u=()=>a.forEach(((t,a)=>{e[t]=i[a]+h.t*o[a]}))}g(),v()}}},v=()=>{c=t?requestAnimationFrame(b):requestAnimationFrame(C)},g=()=>{h.frame=0,h.time=0,h.t=0,h.started=!1,h.ended=!1},f=()=>{h.t=i[a](h.time/h.dur),u(),r&&r(),h.ended&&d&&d(),h.frame++},A=()=>{h.time=h.dur,h.ended=!0,f(),cancelAnimationFrame(c)},T=()=>{h.started||(h.started=!0,n&&n(),m=performance.now()),p&&(p=!1,m=performance.now()-h.time),h.time=Math.min(performance.now()-m,h.dur)},b=()=>{T(),h.time===h.dur&&(h.time=0,m=performance.now()),f(),!h.paused&&(c=requestAnimationFrame(b))},C=()=>{clearTimeout(l),T(),h.time===h.dur&&(h.ended=!0),f(),h.ended||h.paused||(l=setTimeout(A,h.dur-h.time),c=requestAnimationFrame(C))};return h};let r,s,d,c,l,m=0,u=!1;const p=(e,t,a)=>(d=document.createElement("canvas"),c=d.getContext("2d"),document.body.prepend(d),d.setAttribute("id",a||"canvas"),l=window.devicePixelRatio,e?(r=e,s=t||r,d.setAttribute("style",`width:${r}px;height:${s}px;`),d.setAttribute("width",(r*l).toString()),d.setAttribute("height",(s*l).toString())):(d.setAttribute("style","width:100%;height:100%;"),({width:r,height:s}=d.getBoundingClientRect()),d.setAttribute("width",(r*l).toString()),d.setAttribute("height",(s*l).toString())),c.fillStyle="white",c.strokeStyle="black",c.lineCap="round",c.lineJoin="round",c.imageSmoothingEnabled=!0,{width:r,height:s,ctx:c,canvas:d}),h=e=>void 0===e?window.devicePixelRatio:(l=e,d.width=r*l,d.height=s*l,e);let v=!1;const g=e=>{"CLOSE"===e&&c.closePath(),v?(v=!1,M()):c.beginPath()},f=(e,t)=>{v?c.lineTo(e*l,t*l):(v=!0,c.moveTo(e*l,t*l))},A=(e,t,a,i,o)=>{c.arcTo(e*l,t*l,a*l,i*l,o*l)},T=(e,t,a,i,o,n)=>{o&&n?c.bezierCurveTo(e*l,t*l,a*l,i*l,o*l,n*l):c.quadraticCurveTo(e*l,t*l,a*l,i*l)},b=(e,t,a,i)=>{c.beginPath(),c.moveTo(e*l,t*l),c.lineTo(a*l,i*l),M()},C=(e,a,i=10,o,n)=>{c.beginPath(),c.arc(e*l,a*l,i*l,o||0,n||t),M()},x=(e,a,i=15,o=10,n=0,r,s,d)=>{c.beginPath(),c.ellipse(e*l,a*l,i*l,o*l,n,r||0,s||t,d),M()},w=(e,t,a=20,i=20,o)=>{c.beginPath(),o?(c.moveTo((e+o)*l,t*l),c.arcTo((e+a)*l,t*l,(e+a)*l,(t+i)*l,o*l),c.arcTo((e+a)*l,(t+i)*l,e*l,(t+i)*l,o*l),c.arcTo(e*l,(t+i)*l,e*l,t*l,o*l),c.arcTo(e*l,t*l,(e+a)*l,t*l,o*l)):c.rect(e*l,t*l,a*l,i*l),M()};let y;const S=e=>{"CLOSE"===e?(c.clip(y),Y=g,Z=f,_=A,ee=T,te=C,ae=x,ie=w):(c.save(),y=new Path2D,Y=k,Z=I,_=O,ee=L,te=P,ae=R,ie=F)},E=()=>c.restore(),k=e=>{v&&(v=!1),"CLOSE"===e&&(v=!1,y.closePath())},I=(e,t)=>{v?y.lineTo(e*l,t*l):(v=!0,y.moveTo(e*l,t*l))},O=(e,t,a,i,o)=>{y.arcTo(e*l,t*l,a*l,i*l,o*l)},L=(e,t,a,i,o,n)=>{o&&n?y.bezierCurveTo(e*l,t*l,a*l,i*l,o*l,n*l):y.quadraticCurveTo(e*l,t*l,a*l,i*l)},P=(e,a,i=10,o,n)=>{y.arc(e*l,a*l,i*l,o||0,n||t)},R=(e,a,i=15,o=10,n=0,r,s,d)=>{y.ellipse(e*l,a*l,i*l,o*l,n*l,r||0,s||t,d)},F=(e,t,a=20,i=20,o)=>{o?(y.moveTo((e+o)*l,t*l),y.arcTo((e+a)*l,t*l,(e+a)*l,(t+i)*l,o*l),y.arcTo((e+a)*l,(t+i)*l,e*l,(t+i)*l,o*l),y.arcTo(e*l,(t+i)*l,e*l,t*l,o*l),y.arcTo(e*l,t*l,(e+a)*l,t*l,o*l)):y.rect(e*l,t*l,a*l,i*l)};let $="sans-serif";const q=(e,t,a)=>{let i="",o=a||"",n=$;if(t&&($=n=t),"number"==typeof e&&(i=e*l+"px"),"string"==typeof e){const t=e.match(/^(\d+)([a-z%]*)\/?(\d*)([a-z%]*)$/);t&&(i=parseFloat(t[1])*l+(t[2]?t[2]:"px"),t[3]&&(i+=`/${t[3]}`,i+=t[4]?t[4]:"px"))}c.font=`${o} ${i} ${n}`.trim()};let N;const z=(e,t,a)=>{c.textAlign=e,t&&(c.textBaseline=t),a&&(N=a)},D=(e,t,a,i)=>{let o=i||N;o=void 0!==o?o*l:o,c.fillText(`${e}`,t*l,a*l,o),c.strokeText(`${e}`,t*l,a*l,o)},j="LINEAR",G="CONIC",B="RADIAL",J=(e,...t)=>{const a={};return"LINEAR"===e?a.reset=(e,i,o,n)=>{const r=e||t[0],s=i||t[1],d=o||t[2],m=n||t[3];a.image=c.createLinearGradient(r*l,s*l,d*l,m*l)}:"CONIC"===e?a.reset=(e,i,o)=>{const n=e||t[0],r=i||t[1],s=o||t[2];a.image=c.createConicGradient(n*l,r*l,s*l)}:"RADIAL"===e&&(a.reset=(e,i,o,n,r,s)=>{const d=void 0===e?t[0]:e,m=void 0===i?t[1]:i,u=void 0===s&&void 0===n&&void 0===t[5]&&void 0===t[3]?0:void 0===o?t[2]:o,p=void 0===n?void 0===t[3]?d:t[3]:n,h=void 0===r?void 0===t[4]?m:t[4]:r,v=void 0===s?void 0===t[5]?void 0===n&&void 0===t[3]?o||t[2]:n||t[3]:t[5]:s;a.image=c.createRadialGradient(d*l,m*l,u*l,p*l,h*l,v*l)}),a.reset(),a.add=(e,t)=>a.image.addColorStop(e,t),a},M=()=>{c.fill(),c.stroke()},U=e=>{c.fillStyle=null===e?"transparent":e},W=(e,t,a,i)=>{c.strokeStyle=null===e?"transparent":e,void 0!==t&&(c.lineWidth=t*l),void 0!==a&&(c.lineCap=a),void 0!==i&&(c.lineJoin=i)},H=(e=0,t=0,a=r,i=s)=>{c.clearRect(e*l,t*l,a*l,i*l)},K=e=>{const{fillStyle:t,strokeStyle:a}=c;W(null),U(e),ie(0,0,r,s),W(a),U(t)};let Q;const V=()=>{u=!1,cancelAnimationFrame(Q)},X=e=>{u=!0;const t=a=>{m++,e(a),u&&(Q=requestAnimationFrame(t))};Q=requestAnimationFrame(t)};let Y=g,Z=f,_=A,ee=T,te=C,ae=x,ie=w;export{a as CLOSE,G as CONIC,j as LINEAR,e as PI,B as RADIAL,t as TAU,n as animate,_ as arc,K as bg,te as circle,H as clear,E as clip,ee as curve,ae as ellipse,U as fill,q as font,m as frame,p as getcanvas,J as gradient,b as line,X as loop,u as looping,S as mask,h as pxratio,ie as rect,z as settext,Y as shape,V as stop,W as stroke,D as text,Z as vertex};
