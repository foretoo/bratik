"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const $=Math.PI,E=$*2,W="close";let u,p,c,n,e;exports.frame=0;exports.looping=!1;const H=(t,i,r)=>(c=document.createElement("canvas"),n=c.getContext("2d"),document.body.prepend(c),c.setAttribute("id",r||"canvas"),e=window.devicePixelRatio,t?(u=t,p=i||u,c.setAttribute("style",`width:${u}px;height:${p}px;`),c.setAttribute("width",(u*e).toString()),c.setAttribute("height",(p*e).toString())):(c.setAttribute("style","width:100%;height:100%;"),{width:u,height:p}=c.getBoundingClientRect(),c.setAttribute("width",(u*e).toString()),c.setAttribute("height",(p*e).toString())),n.fillStyle="white",n.strokeStyle="black",n.lineCap="round",n.lineJoin="round",n.imageSmoothingEnabled=!0,{width:u,height:p,ctx:n,canvas:c}),K=t=>t===void 0?window.devicePixelRatio:(e=t,c.width=u*e,c.height=p*e,t);let C=!1;const Q=t=>{t==="close"&&n.closePath(),C?(C=!1,S()):n.beginPath()},V=(t,i)=>{C?n.lineTo(t*e,i*e):(C=!0,n.moveTo(t*e,i*e))},X=(t,i,r,s,o)=>{n.arcTo(t*e,i*e,r*e,s*e,o*e)},Y=(t,i,r,s,o,f)=>{o&&f?n.bezierCurveTo(t*e,i*e,r*e,s*e,o*e,f*e):n.quadraticCurveTo(t*e,i*e,r*e,s*e)},Z=(t,i,r,s)=>{n.beginPath(),n.moveTo(t*e,i*e),n.lineTo(r*e,s*e),S()},ee=(t,i,r=10)=>{n.beginPath(),n.arc(t*e,i*e,r*e,0,E),S()},q=(t,i,r=20,s=20,o)=>{n.beginPath(),o?(n.moveTo((t+o)*e,i*e),n.arcTo((t+r)*e,i*e,(t+r)*e,(i+s)*e,o*e),n.arcTo((t+r)*e,(i+s)*e,t*e,(i+s)*e,o*e),n.arcTo(t*e,(i+s)*e,t*e,i*e,o*e),n.arcTo(t*e,i*e,(t+r)*e,i*e,o*e)):n.rect(t*e,i*e,r*e,s*e),S()};let L="sans-serif";const te=(t,i,r)=>{let s="",o=r||"",f=L;if(i&&(L=f=i),typeof t=="number"&&(s=t*e+"px"),typeof t=="string"){const l=t.match(/^(\d+)([a-z%]*)\/?(\d*)([a-z%]*)$/);l&&(s=parseFloat(l[1])*e+(l[2]?l[2]:"px"),l[3]&&(s+=`/${l[3]}`,s+=l[4]?l[4]:"px"))}n.font=`${o} ${s} ${f}`.trim()};let y;const ie=(t,i,r)=>{n.textAlign=t,i&&(n.textBaseline=i),r&&(y=r)},re=(t,i,r,s)=>{let o=s||y;o=o!==void 0?o*e:o,n.fillText(`${t}`,i*e,r*e,o),n.strokeText(`${t}`,i*e,r*e,o)},N="LINEAR",M="CONIC",D="RADIAL",ae=(t,...i)=>{const r={};return t===N?r.reset=(s,o,f,l)=>{const m=s||i[0],d=o||i[1],A=f||i[2],v=l||i[3];r.image=n.createLinearGradient(m*e,d*e,A*e,v*e)}:t===M?r.reset=(s,o,f)=>{const l=s||i[0],m=o||i[1],d=f||i[2];r.image=n.createConicGradient(l*e,m*e,d*e)}:t===D&&(r.reset=(s,o,f,l,m,d)=>{const A=s||i[0],v=o||i[1],h=f||i[2],T=l||i[3],g=m||i[4],b=d||i[5];r.image=n.createRadialGradient(A*e,v*e,h*e,T*e,g*e,b*e)}),r.reset(),r.add=(s,o)=>r.image.addColorStop(s,o),r},S=()=>{n.fill(),n.stroke()},G=t=>{t===null?n.fillStyle="transparent":n.fillStyle=t},ne=(t,i,r,s)=>{t===null?n.strokeStyle="transparent":n.strokeStyle=t,i!==void 0&&(n.lineWidth=i*e),r!==void 0&&(n.lineCap=r),s!==void 0&&(n.lineJoin=s)},se=(t=0,i=0,r=u,s=p)=>{n.clearRect(t*e,i*e,r*e,s*e)},oe=t=>{G(t),q(0,0,u,p)};let P;const le=()=>{exports.looping=!1,cancelAnimationFrame(P)},ce=t=>{exports.looping=!0;const i=r=>{exports.frame++,t(r),exports.looping&&(P=requestAnimationFrame(i))};P=requestAnimationFrame(i)},fe={linear:t=>t,cubicIn:t=>t*t*t,cubicOut:t=>1-(1-t)*(1-t)*(1-t),cubicInOut:t=>t<.5?4*t*t*t:1-(-2*t+2)*(-2*t+2)*(-2*t+2)/2},de={dur:1e3,loop:!1,ease:"linear"},ue=({dur:t=1e3,loop:i=!1,ease:r="linear",onstart:s,ontick:o,onpause:f,onend:l}=de)=>{let m,d=[],A=[],v=[],h,T,g,b=!1;const a={dur:t,ease:r,started:!1,paused:!1,ended:!1,frame:0,time:0,t:0,onstart:s,ontick:o,onpause:f,onend:l},j=()=>{!h||(a.paused=!0,a.onpause&&a.onpause(),clearTimeout(T),cancelAnimationFrame(h))},z=()=>{a.started&&!a.paused&&!a.ended||(a.ended&&F(),a.paused=!1,b=!0,R())},B=(w,_)=>{a.started&&!a.ended||(m=w,d=Object.keys(_),A=d.map(x=>m[x]),v=d.map((x,U)=>_[x]-A[U]),F(),R())},R=()=>{h=requestAnimationFrame(i?O:k)},F=()=>{a.frame=0,a.time=0,a.t=0,a.started=!1,a.ended=!1},I=()=>{a.t=fe[r](a.time/a.dur),d.forEach((w,_)=>m[w]=A[_]+a.t*v[_]),o&&o(),a.ended&&l&&l(),a.frame++},J=()=>{a.time=a.dur,a.ended=!0,I(),cancelAnimationFrame(h)},O=()=>{a.started||(a.started=!0,s&&s(),g=performance.now()),b&&(b=!1,g=performance.now()-a.time),a.time=Math.min(performance.now()-g,a.dur),a.time===a.dur&&(a.time=0,g=performance.now()),I(),!a.paused&&(h=requestAnimationFrame(O))},k=()=>{a.started||(a.started=!0,s&&s(),g=performance.now()),b&&(b=!1,g=performance.now()-a.time),clearTimeout(T),a.time=Math.min(performance.now()-g,a.dur),a.time===a.dur&&(a.ended=!0),I(),!a.ended&&!a.paused&&(T=setTimeout(J,a.dur-a.time),h=requestAnimationFrame(k))};return Object.assign(a,{pause:j,play:z,on:B})};exports.CLOSE=W;exports.CONIC=M;exports.LINEAR=N;exports.PI=$;exports.RADIAL=D;exports.TAU=E;exports.animate=ue;exports.arc=X;exports.bg=oe;exports.circle=ee;exports.clear=se;exports.curve=Y;exports.fill=G;exports.font=te;exports.getcanvas=H;exports.gradient=ae;exports.line=Z;exports.loop=ce;exports.pxratio=K;exports.rect=q;exports.settext=ie;exports.shape=Q;exports.stop=le;exports.stroke=ne;exports.text=re;exports.vertex=V;
