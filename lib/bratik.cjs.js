"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const y=Math.PI,L=y*2,ae="CLOSE";let A,b,p,c,e;exports.frame=0;exports.looping=!1;const ie=(t,a,i)=>(p=document.createElement("canvas"),c=p.getContext("2d"),document.body.prepend(p),p.setAttribute("id",i||"canvas"),e=window.devicePixelRatio,t?(A=t,b=a||A,p.setAttribute("style",`width:${A}px;height:${b}px;`),p.setAttribute("width",(A*e).toString()),p.setAttribute("height",(b*e).toString())):(p.setAttribute("style","width:100%;height:100%;"),{width:A,height:b}=p.getBoundingClientRect(),p.setAttribute("width",(A*e).toString()),p.setAttribute("height",(b*e).toString())),c.fillStyle="white",c.strokeStyle="black",c.lineCap="round",c.lineJoin="round",c.imageSmoothingEnabled=!0,{width:A,height:b,ctx:c,canvas:p}),re=t=>t===void 0?window.devicePixelRatio:(e=t,p.width=A*e,p.height=b*e,t);let k=!1;const B=t=>{t==="CLOSE"&&c.closePath(),k?(k=!1,R()):c.beginPath()},J=(t,a)=>{k?c.lineTo(t*e,a*e):(k=!0,c.moveTo(t*e,a*e))},U=(t,a,i,r,s)=>{c.arcTo(t*e,a*e,i*e,r*e,s*e)},W=(t,a,i,r,s,l)=>{s&&l?c.bezierCurveTo(t*e,a*e,i*e,r*e,s*e,l*e):c.quadraticCurveTo(t*e,a*e,i*e,r*e)},se=(t,a,i,r)=>{c.beginPath(),c.moveTo(t*e,a*e),c.lineTo(i*e,r*e),R()},H=(t,a,i=10,r,s)=>{c.beginPath(),c.arc(t*e,a*e,i*e,r||0,s||L),R()},K=(t,a,i=15,r=10,s=0,l,o,u)=>{c.beginPath(),c.ellipse(t*e,a*e,i*e,r*e,s*e,l||0,o||L,u),R()},Q=(t,a,i=20,r=20,s)=>{c.beginPath(),s?(c.moveTo((t+s)*e,a*e),c.arcTo((t+i)*e,a*e,(t+i)*e,(a+r)*e,s*e),c.arcTo((t+i)*e,(a+r)*e,t*e,(a+r)*e,s*e),c.arcTo(t*e,(a+r)*e,t*e,a*e,s*e),c.arcTo(t*e,a*e,(t+i)*e,a*e,s*e)):c.rect(t*e,a*e,i*e,r*e),R()};let d;const ne=t=>{t==="CLOSE"?(c.clip(d),exports.shape=B,exports.vertex=J,exports.arc=U,exports.curve=W,exports.circle=H,exports.ellipse=K,exports.rect=Q):(c.save(),d=new Path2D,exports.shape=oe,exports.vertex=le,exports.arc=fe,exports.curve=me,exports.circle=de,exports.ellipse=ue,exports.rect=pe)},ce=()=>c.restore(),oe=t=>{k&&(k=!1),t==="CLOSE"&&(k=!1,d.closePath())},le=(t,a)=>{k?d.lineTo(t*e,a*e):(k=!0,d.moveTo(t*e,a*e))},fe=(t,a,i,r,s)=>{d.arcTo(t*e,a*e,i*e,r*e,s*e)},me=(t,a,i,r,s,l)=>{s&&l?d.bezierCurveTo(t*e,a*e,i*e,r*e,s*e,l*e):d.quadraticCurveTo(t*e,a*e,i*e,r*e)},de=(t,a,i=10,r,s)=>{d.arc(t*e,a*e,i*e,r||0,s||L)},ue=(t,a,i=15,r=10,s=0,l,o,u)=>{d.ellipse(t*e,a*e,i*e,r*e,s*e,l||0,o||L,u)},pe=(t,a,i=20,r=20,s)=>{s?(d.moveTo((t+s)*e,a*e),d.arcTo((t+i)*e,a*e,(t+i)*e,(a+r)*e,s*e),d.arcTo((t+i)*e,(a+r)*e,t*e,(a+r)*e,s*e),d.arcTo(t*e,(a+r)*e,t*e,a*e,s*e),d.arcTo(t*e,a*e,(t+i)*e,a*e,s*e)):d.rect(t*e,a*e,i*e,r*e)};let j="sans-serif";const ge=(t,a,i)=>{let r="",s=i||"",l=j;if(a&&(j=l=a),typeof t=="number"&&(r=t*e+"px"),typeof t=="string"){const o=t.match(/^(\d+)([a-z%]*)\/?(\d*)([a-z%]*)$/);o&&(r=parseFloat(o[1])*e+(o[2]?o[2]:"px"),o[3]&&(r+=`/${o[3]}`,r+=o[4]?o[4]:"px"))}c.font=`${s} ${r} ${l}`.trim()};let V;const he=(t,a,i)=>{c.textAlign=t,a&&(c.textBaseline=a),i&&(V=i)},ve=(t,a,i,r)=>{let s=r||V;s=s!==void 0?s*e:s,c.fillText(`${t}`,a*e,i*e,s),c.strokeText(`${t}`,a*e,i*e,s)},X="LINEAR",Y="CONIC",Z="RADIAL",Ae=(t,...a)=>{const i={};return t===X?i.reset=(r,s,l,o)=>{const u=r||a[0],g=s||a[1],S=l||a[2],h=o||a[3];i.image=c.createLinearGradient(u*e,g*e,S*e,h*e)}:t===Y?i.reset=(r,s,l)=>{const o=r||a[0],u=s||a[1],g=l||a[2];i.image=c.createConicGradient(o*e,u*e,g*e)}:t===Z&&(i.reset=(r,s,l,o,u,g)=>{const S=r||a[0],h=s||a[1],_=l||a[2],n=o||a[3],w=u||a[4],x=g||a[5];i.image=c.createRadialGradient(S*e,h*e,_*e,n*e,w*e,x*e)}),i.reset(),i.add=(r,s)=>i.image.addColorStop(r,s),i},R=()=>{c.fill(),c.stroke()},$=t=>{t===null?c.fillStyle="transparent":c.fillStyle=t},q=(t,a,i,r)=>{t===null?c.strokeStyle="transparent":c.strokeStyle=t,a!==void 0&&(c.lineWidth=a*e),i!==void 0&&(c.lineCap=i),r!==void 0&&(c.lineJoin=r)},Te=(t=0,a=0,i=A,r=b)=>{c.clearRect(t*e,a*e,i*e,r*e)},be=t=>{const{fillStyle:a,strokeStyle:i}=c;q(null),$(t),exports.rect(0,0,A,b),q(i),$(a)};let N;const ke=()=>{exports.looping=!1,cancelAnimationFrame(N)},Ce=t=>{exports.looping=!0;const a=i=>{exports.frame++,t(i),exports.looping&&(N=requestAnimationFrame(a))};N=requestAnimationFrame(a)},Se={linear:t=>t,cubicIn:t=>t*t*t,cubicOut:t=>1-(1-t)*(1-t)*(1-t),cubicInOut:t=>t<.5?4*t*t*t:1-(-2*t+2)*(-2*t+2)*(-2*t+2)/2},_e={dur:1e3,loop:!1,ease:"linear"},Ee=({dur:t=1e3,loop:a=!1,ease:i="linear",onstart:r,ontick:s,onpause:l,onend:o}=_e)=>{let u,g,S,h,_=!1;const n={dur:t,ease:i,started:!1,paused:!1,ended:!1,frame:0,time:0,t:0,onstart:r,ontick:s,onpause:l,onend:o},w=()=>{!g||(n.paused=!0,n.onpause&&n.onpause(),clearTimeout(S),cancelAnimationFrame(g))},x=()=>{n.started&&!n.paused&&!n.ended||(n.ended&&D(),n.paused=!1,_=!0,M())},ee=(E,O)=>{if(!(n.started&&!n.ended)){if(E instanceof Array)if(O instanceof Array){const v=O.map(m=>Object.keys(m)),C=E.map((m,f)=>v[f].map(T=>m[T])),P=O.map((m,f)=>v[f].map((T,I)=>m[T]-C[f][I]));u=()=>E.forEach((m,f)=>v[f].forEach((T,I)=>{m[T]=C[f][I]+n.t*P[f][I]}))}else{const v=Object.keys(O),C=E.map(m=>v.map(f=>m[f])),P=C.map(m=>v.map((f,T)=>O[f]-m[T]));u=()=>E.forEach((m,f)=>v.forEach((T,I)=>{m[T]=C[f][I]+n.t*P[f][I]}))}else{const v=Object.keys(O),C=v.map(m=>E[m]),P=v.map((m,f)=>O[m]-C[f]);u=()=>v.forEach((m,f)=>{E[m]=C[f]+n.t*P[f]})}D(),M()}},M=()=>{g=requestAnimationFrame(a?z:G)},D=()=>{n.frame=0,n.time=0,n.t=0,n.started=!1,n.ended=!1},F=()=>{n.t=Se[i](n.time/n.dur),u(),s&&s(),n.ended&&o&&o(),n.frame++},te=()=>{n.time=n.dur,n.ended=!0,F(),cancelAnimationFrame(g)},z=()=>{n.started||(n.started=!0,r&&r(),h=performance.now()),_&&(_=!1,h=performance.now()-n.time),n.time=Math.min(performance.now()-h,n.dur),n.time===n.dur&&(n.time=0,h=performance.now()),F(),!n.paused&&(g=requestAnimationFrame(z))},G=()=>{n.started||(n.started=!0,r&&r(),h=performance.now()),_&&(_=!1,h=performance.now()-n.time),clearTimeout(S),n.time=Math.min(performance.now()-h,n.dur),n.time===n.dur&&(n.ended=!0),F(),!n.ended&&!n.paused&&(S=setTimeout(te,n.dur-n.time),g=requestAnimationFrame(G))};return Object.assign(n,{pause:w,play:x,on:ee})};exports.shape=B;exports.vertex=J;exports.arc=U;exports.curve=W;exports.circle=H;exports.ellipse=K;exports.rect=Q;exports.CLOSE=ae;exports.CONIC=Y;exports.LINEAR=X;exports.PI=y;exports.RADIAL=Z;exports.TAU=L;exports.animate=Ee;exports.bg=be;exports.clear=Te;exports.clip=ce;exports.fill=$;exports.font=ge;exports.getcanvas=ie;exports.gradient=Ae;exports.line=se;exports.loop=Ce;exports.mask=ne;exports.pxratio=re;exports.settext=he;exports.stop=ke;exports.stroke=q;exports.text=ve;
