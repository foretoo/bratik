"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const C=Math.PI,F=C*2,q="close";let f,p,r,n,t;exports.frame=0;exports.looping=!1;const M=(e,i,o)=>(r=document.createElement("canvas"),n=r.getContext("2d"),document.body.prepend(r),r.setAttribute("id",o||"canvas"),t=window.devicePixelRatio,e?(f=e,p=i||f,r.setAttribute("style",`width:${f}px;height:${p}px;`),r.setAttribute("width",(f*t).toString()),r.setAttribute("height",(p*t).toString())):(r.setAttribute("style","width:100%;height:100%;"),{width:f,height:p}=r.getBoundingClientRect(),r.setAttribute("width",(f*t).toString()),r.setAttribute("height",(p*t).toString())),n.fillStyle="white",n.strokeStyle="black",n.lineCap="round",n.lineJoin="round",n.imageSmoothingEnabled=!0,{width:f,height:p,ctx:n,canvas:r}),R=e=>e===void 0?window.devicePixelRatio:(t=e,r.width=f*t,r.height=p*t,e);let v=!1;const _=e=>{e==="close"&&n.closePath(),v?(v=!1,A()):n.beginPath()},B=(e,i)=>{v?n.lineTo(e*t,i*t):(v=!0,n.moveTo(e*t,i*t))},J=(e,i,o,s,l)=>{n.arcTo(e*t,i*t,o*t,s*t,l*t)},L=(e,i,o,s)=>{n.beginPath(),n.moveTo(e*t,i*t),n.lineTo(o*t,s*t),A()},U=(e,i,o=10)=>{n.beginPath(),n.arc(e*t,i*t,o*t,0,F),A()},j=(e,i,o=20,s=20,l)=>{n.beginPath(),l?(n.moveTo((e+l)*t,i*t),n.arcTo((e+o)*t,i*t,(e+o)*t,(i+s)*t,l*t),n.arcTo((e+o)*t,(i+s)*t,e*t,(i+s)*t,l*t),n.arcTo(e*t,(i+s)*t,e*t,i*t,l*t),n.arcTo(e*t,i*t,(e+o)*t,i*t,l*t)):n.rect(e*t,i*t,o*t,s*t),A()};let $="sans-serif";const z=(e,i,o)=>{let s="",l=o||"",d=$;if(i&&($=d=i),typeof e=="number"&&(s=e*t+"px"),typeof e=="string"){const a=e.match(/^(\d+)([a-z%]*)\/?(\d*)([a-z%]*)$/);a&&(s=parseFloat(a[1])*t+(a[2]?a[2]:"px"),a[3]&&(s+=`/${a[3]}`,s+=a[4]?a[4]:"px"))}n.font=`${l} ${s} ${d}`.trim()};let I;const D=(e,i,o)=>{n.textAlign=e||"start",n.textBaseline=i||"alphabetic",I=o},W=(e,i,o,s)=>{let l=s||I;l=l!==void 0?l*t:l,n.fillText(e,i*t,o*t,l),n.strokeText(e,i*t,o*t,l)},A=()=>{n.fill(),n.stroke()},G=e=>{e===null?n.fillStyle="transparent":n.fillStyle=e},H=(e,i,o,s)=>{e===null?n.strokeStyle="transparent":n.strokeStyle=e,i!==void 0&&(n.lineWidth=i*t),o!==void 0&&(n.lineCap=o),s!==void 0&&(n.lineJoin=s)},K=(e=0,i=0,o=f,s=p)=>{n.clearRect(e*t,i*t,o*t,s*t)};let x;const N=()=>{exports.looping=!1,cancelAnimationFrame(x)},Q=e=>{exports.looping=!0;const i=o=>{exports.frame++,e(o),exports.looping&&(x=requestAnimationFrame(i))};x=requestAnimationFrame(i)},V={linear:e=>e,cubicIn:e=>e*e*e,cubicOut:e=>1-(1-e)*(1-e)*(1-e),cubicInOut:e=>e<.5?4*e*e*e:1-(-2*e+2)*(-2*e+2)*(-2*e+2)/2},X=(e=500,i="cubicOut",o)=>{let s=!1,l=!1,d,a,P,h,k,g,S,w;return(b,T)=>{if(s)return;b&&T&&(g=Object.keys(T).reduce((m,c)=>!(c in b)||typeof b[c]!="number"||typeof T[c]!="number"?m:m.concat(c),[]),g.length&&(k=!0,S=g.map(m=>b[m]),w=g.map((m,c)=>T[m]-S[c])));const y=u=>{a=u?Math.min(u-d,e):e,(!u||a===e)&&(l=!0),h=a/e,h=V[i](h),k&&g.forEach((m,c)=>b[m]=S[c]+h*w[c]),o&&o(h,a)},E=()=>{!l&&y()},O=u=>{s||(s=!0,d=u,a=u-d),a<e&&!l?(clearTimeout(P),y(u),P=setTimeout(E,e-a),requestAnimationFrame(O)):(s=!1,l=!1)};requestAnimationFrame(O)}};exports.CLOSE=q;exports.PI=C;exports.TAU=F;exports.animate=X;exports.arc=J;exports.circle=U;exports.clear=K;exports.fill=G;exports.font=z;exports.getcanvas=M;exports.line=L;exports.loop=Q;exports.pxratio=R;exports.rect=j;exports.settext=D;exports.shape=_;exports.stop=N;exports.stroke=H;exports.text=W;exports.vertex=B;
